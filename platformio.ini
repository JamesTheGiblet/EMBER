[platformio]
; The default environment to use when running `pio run`
default_envs = esp32-usb

[env]
; Common settings for all environments
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
lib_deps = 
    ArduinoOTA
    ESPmDNS
    WiFi

[env:esp32-usb]
; --- FOR FIRST UPLOAD (or recovery) ---
; Use this environment to flash the initial firmware via USB.
; Command: pio run -e esp32-usb -t upload

[env:esp32-ota]
; --- FOR WIRELESS (OTA) UPLOADS ---
; Use this for all subsequent uploads after the first one.
; Command: pio run -e esp32-ota -t upload --upload-port <IP_ADDRESS>
upload_protocol = espota
upload_flags = --auth=ember2025
; You can set a default IP here to avoid typing it every time:
; upload_port = 192.168.1.50